export function __vite_legacy_guard(){import("data:text/javascript,")}import{c as t,o as e,a as n,b as r,p as o,d as s,r as i,e as a,w as l,v as c,n as u,t as d,S as p,f as h,C as f,g as m}from"./vendor.50d1c189.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const g={class:"mt-auto"},v=[n("div",{class:"inner"},[n("p",null,[r("Developed By "),n("a",{href:"https://github.com/oToToT"},"@oToToT"),r(", view our "),n("a",{href:"/privacy.html"},"Privacy Policy ")])],-1)];const y={render:function(n,r){return e(),t("footer",g,v)}};var b={API_URL:"https://asia-northeast1-url-shorten-dve-tw.cloudfunctions.net/url-shorten",BASE_URL:"https://dve.tw/",reportBug(){window.location="https://github.com/oToToT/shorten-url/issues"}};o("data-v-1e75843a");const w={class:"navbar navbar-dark mb-auto"},B={class:"container"},x=n("a",{class:"navbar-brand h1 mb-0",href:"/"},"Dve.Tw",-1);s();const T={name:"NavBar",methods:{reportBug:b.reportBug}},U=Object.assign(T,{setup:function(r){return(r,o)=>(e(),t("nav",w,[n("div",B,[x,n("button",{class:"btn btn-outline-warning",onClick:o[0]||(o[0]=(...t)=>r.reportBug&&r.reportBug(...t))},"回報Bug")])]))}});U.__scopeId="data-v-1e75843a";const _={class:"container-fluid d-flex w-100 h-100 p-3 mx-auto flex-column",id:"index"},L={class:"inner",role:"main"},S=n("h1",{class:"slogan"},"讓網路世界更簡單！",-1),C={class:"mb-3"},I=r("網址太長很難記？"),D=n("br",null,null,-1),R=r("想要一個不追蹤使用者的縮網址服務？"),A=n("br",null,null,-1),E=r("來試試"),O=["href"],k=r("吧，一個極簡的縮網址服務"),G={class:"input-group input-group-lg"},N={class:"input-group-append"},P=["disabled"];const j={components:{Footer:y,NavBar:U},data:()=>({baseUrl:b.BASE_URL,isGenerating:!1,url:""}),methods:{isUrl(t){try{return Boolean(new URL(t))}catch(e){return!1}},async _generateShortenUrl(){if(this.isUrl(this.url))try{const t=await h(b.API_URL,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},data:"url="+encodeURIComponent(this.url)}).then((t=>t.data));if(t.error)return void p.fire("錯誤",t.error,"error");const e=this.url,n=b.BASE_URL+t.entry,r=encodeURIComponent(n);let o=null;await p.fire({title:"成功建立短網址",allowOutsideClick:!1,customClass:{title:"shorten-url-result-title",actions:"shorten-url-result-actions"},html:'\n          <div class="shorten-url-result-html">\n            <div class="input-group">\n              <input class="form-control" type="text" readonly id="shorten-url">\n              <div class="input-group-append">\n                <button class="btn btn-primary" id="copy-button">複製！</button>\n              </div>\n            </div>\n            <img width="200" height="200" id="qr-code">\n            <p style="text-overflow: ellipsis; overflow: hidden; white-space: nowrap">\n              原網址：\n              <a id="original-url"></a>\n            </p>\n          </div>',willOpen:function(){const t=document.getElementById("original-url");t.innerText=e,t.href=e,document.getElementById("shorten-url").value=n,document.getElementById("qr-code").src=`https://chart.googleapis.com/chart?chs=200x200&cht=qr&chld=L|1&chl=${r}`,o=new f("#copy-button",{text:()=>n})},didDestroy:function(){o.destroy()}})}catch(t){console.log(t);(await p.fire({icon:"error",title:"未知錯誤",text:"無法建立短網址，請確認網路連線是否正常",showConfirmButton:!0,showDenyButton:!0,confirmButtonText:"OK",denyButtonText:"Bug回報"})).isDenied&&b.reportBug()}else{(await p.fire({icon:"error",title:"格式錯誤",text:"很抱歉，我們目前僅能縮短一個完整的網址",showConfirmButton:!0,showDenyButton:!0,confirmButtonText:"OK",denyButtonText:"Bug回報"})).isDenied&&b.reportBug()}},async generateShortenUrl(){this.isGenerating=!0,await this._generateShortenUrl(),this.isGenerating=!1}},render:function(r,o,s,p,h,f){const m=i("NavBar"),g=i("Footer");return e(),t("div",_,[a(m),n("main",L,[S,n("p",C,[I,D,R,A,E,n("a",{href:h.baseUrl},"Dve.Tw",8,O),k]),n("div",G,[l(n("input",{class:"form-control",type:"text",placeholder:"https://ototot.tw/","onUpdate:modelValue":o[0]||(o[0]=t=>h.url=t)},null,512),[[c,h.url]]),n("div",N,[n("button",{class:u(["btn",h.isGenerating?"btn-info":"btn-outline-success"]),disabled:h.isGenerating,onClick:o[1]||(o[1]=(...t)=>f.generateShortenUrl&&f.generateShortenUrl(...t))},d(h.isGenerating?"生成中":"縮個！"),11,P)])])]),a(g)])}};m(j).mount("#app");
