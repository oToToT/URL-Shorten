export function __vite_legacy_guard(){import("data:text/javascript,")}import{o as t,c as e,a as n,b as r,p as o,d as s,e as i,u as a,w as l,v as c,i as u,n as d,t as p,S as h,f,C as g,g as m}from"./vendor.bf217af8.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const v={class:"mt-auto"},y=[n("div",{class:"inner"},[n("p",null,[r("Developed By "),n("a",{href:"https://github.com/oToToT"},"@oToToT"),r(", view our "),n("a",{href:"/privacy.html"},"Privacy Policy ")])],-1)];const b={render:function(n,r){return t(),e("footer",v,y)}};var w={API_URL:"https://asia-northeast1-url-shorten-dve-tw.cloudfunctions.net/url-shorten",BASE_URL:"https://dve.tw/",reportBug(){window.location="https://github.com/oToToT/shorten-url/issues"}};o("data-v-1e75843a");const B={class:"navbar navbar-dark mb-auto"},x={class:"container"},T=n("a",{class:"navbar-brand h1 mb-0",href:"/"},"Dve.Tw",-1);s();const U={name:"NavBar",methods:{reportBug:w.reportBug}},_=Object.assign(U,{setup:function(r){return(r,o)=>(t(),e("nav",B,[n("div",x,[T,n("button",{class:"btn btn-outline-warning",onClick:o[0]||(o[0]=(...t)=>r.reportBug&&r.reportBug(...t))},"回報Bug")])]))}});_.__scopeId="data-v-1e75843a";const L={class:"container-fluid d-flex w-100 h-100 p-3 mx-auto flex-column",id:"index"},S={class:"inner",role:"main"},C=n("h1",{class:"slogan"},"讓網路世界更簡單！",-1),I={class:"mb-3"},O=r("網址太長很難記？"),R=n("br",null,null,-1),A=r("想要一個不追蹤使用者的縮網址服務？"),D=n("br",null,null,-1),E=r("來試試"),k=["href"],G=r("吧，一個極簡的縮網址服務"),P={class:"input-group input-group-lg"},j={class:"input-group-append"},q=["disabled"];const N={data:()=>({isGenerating:!1,url:""}),methods:{isUrl(t){try{return Boolean(new URL(t))}catch(e){return!1}},async _generateShortenUrl(){if(this.isUrl(this.url))try{const t=await f(w.API_URL,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},data:"url="+encodeURIComponent(this.url)}).then((t=>t.data));if(t.error)return void h.fire("錯誤",t.error,"error");const e=this.url,n=w.BASE_URL+t.entry,r=encodeURIComponent(n);await h.fire({title:"成功建立短網址",allowOutsideClick:!1,customClass:{title:"shorten-url-result-title",actions:"shorten-url-result-actions"},html:'\n          <div class="shorten-url-result-html">\n            <div class="input-group">\n              <input class="form-control" type="text" readonly id="shorten-url">\n              <div class="input-group-append">\n                <button class="btn btn-primary" id="copy-button">複製！</button>\n              </div>\n            </div>\n            <img width="200" height="200" id="qr-code">\n            <p style="text-overflow: ellipsis; overflow: hidden; white-space: nowrap">\n              原網址：\n              <a id="original-url"></a>\n            </p>\n          </div>',willOpen:function(){const t=document.getElementById("original-url");t.innerText=e,t.href=e,document.getElementById("shorten-url").value=n,document.getElementById("qr-code").src=`https://chart.googleapis.com/chart?chs=200x200&cht=qr&chld=L|1&chl=${r}`;new g("#copy-button",{target:()=>n})}})}catch(t){console.log(t);(await h.fire({icon:"error",title:"未知錯誤",text:"無法建立短網址，請確認網路連線是否正常",showConfirmButton:!0,showDenyButton:!0,confirmButtonText:"OK",denyButtonText:"Bug回報"})).isDenied&&w.reportBug()}else{(await h.fire({icon:"error",title:"格式錯誤",text:"很抱歉，我們目前僅能縮短一個完整的網址",showConfirmButton:!0,showDenyButton:!0,confirmButtonText:"OK",denyButtonText:"Bug回報"})).isDenied&&w.reportBug()}},async generateShortenUrl(){this.isGenerating=!0,await this._generateShortenUrl(),this.isGenerating=!1}}};m(Object.assign(N,{setup:function(r){return(r,o)=>(t(),e("div",L,[i(_),n("main",S,[C,n("p",I,[O,R,A,D,E,n("a",{href:a(w).BASE_URL},"Dve.Tw",8,k),G]),n("div",P,[l(n("input",{class:"form-control",type:"text",placeholder:"https://ototot.tw/","onUpdate:modelValue":o[0]||(o[0]=t=>u(url)?url.value=t:null)},null,512),[[c,r.url]]),n("div",j,[n("button",{class:d(["btn",r.isGenerating?"btn-info":"btn-outline-success"]),disabled:r.isGenerating,onClick:o[1]||(o[1]=(...t)=>r.generateShortenUrl&&r.generateShortenUrl(...t))},p(r.isGenerating?"生成中":"縮個！"),11,q)])])]),i(b)]))}})).mount("#app");
